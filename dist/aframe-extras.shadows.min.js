!function e(t,a,i){function o(r,s){if(!a[r]){if(!t[r]){var h="function"==typeof require&&require;if(!s&&h)return h(r,!0);if(n)return n(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[r]={exports:{}};t[r][0].call(c.exports,function(e){var a=t[r][1][e];return o(a?a:e)},c,c.exports,e,t,a,i)}return a[r].exports}for(var n="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,a){e("./src/shadows").registerAll()},{"./src/shadows":2}],2:[function(e,t,a){t.exports={shadow:e("./shadow"),"shadow-light":e("./shadow-light"),registerAll:function(e){this._registered||(e=e||window.AFRAME,e=e.aframeCore||e,e.components.shadow||e.registerComponent("shadow",this.shadow),e.components["shadow-light"]||e.registerComponent("shadow-light",this["shadow-light"]),this._registered=!0)}}},{"./shadow":4,"./shadow-light":3}],3:[function(e,t,a){t.exports={schema:{angle:{"default":Math.PI/3},castShadow:{"default":!1},color:{"default":"#FFF"},groundColor:{"default":"#FFF"},decay:{"default":1},distance:{"default":0},exponent:{"default":10},intensity:{"default":1},shadowBias:{"default":0},shadowCameraFar:{"default":5e3},shadowCameraFov:{"default":50},shadowCameraNear:{"default":50},shadowDarkness:{"default":.5},shadowMapHeight:{"default":512},shadowMapWidth:{"default":512},type:{"default":"directional"}},init:function(){var e=this.el;this.light=this.getLight(),e.object3D.add(this.light),e.sceneEl.registerLight(e),e.sceneEl.renderer.shadowMap.enabled||(e.sceneEl.renderer.shadowMap.enabled=!0)},update:function(e){if(e){var t=this.el;t.object3D.remove(this.light),this.light=this.getLight(),t.object3D.add(this.light)}},tick:function(){},remove:function(){},getLight:function(){var e=this.data,t=new THREE.Color(e.color).getHex(),a=e.intensity,i=e.type;switch(i&&(i=i.toLowerCase()),i){case"ambient":return new THREE.AmbientLight(t);case"directional":return this.setShadow(new THREE.DirectionalLight(t,a));case"hemisphere":return new THREE.HemisphereLight(t,e.groundColor,a);case"point":return this.setShadow(new THREE.PointLight(t,a,e.distance,e.decay));case"spot":return this.setShadow(new THREE.SpotLight(t,a,e.distance,e.angle,e.exponent,e.decay));default:return new THREE.AmbientLight(t)}},setShadow:function(e){var t=this.data;return this.data.castShadow?(["castShadow","shadowCameraNear","shadowCameraFar","shadowCameraFov","shadowDarkness","shadowMapHeight","shadowMapWidth"].forEach(function(a){e[a]=t[a]}),e):e}}},{}],4:[function(e,t,a){t.exports={schema:{cast:{"default":!1},receive:{"default":!1}},init:function(){this.update({}),this.el.addEventListener("model-loaded",this.update.bind(this,{},"foobar"))},tick:function(){},update:function(e){if(e){var t=this.data;this.el.object3D.traverse(function(e){e instanceof THREE.Mesh&&(e.castShadow=t.cast,e.receiveShadow=t.receive)})}},remove:function(){}}},{}]},{},[1]);